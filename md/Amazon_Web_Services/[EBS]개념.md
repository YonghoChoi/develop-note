# EBS

* 특정 가용 영역에 위치하며 여기에서 자동으로 복제된다.
  * 단일 구성 요소에 장애가 발생하더라도 보호할 수 있다.
* 모든 EBS 볼륨 유형은 안정적인 스냅샷 기능을 제공하여 99.9999%의 가용성을 제공



## SSD 지원 볼륨(IOPS 집약적)

### 프로비저닝된 IOPS SSD(io1) 볼륨

* 중요한 I/O 집약적 데이터베이스 및 애플리케이션 워크로드와 처리량 집약적 데이터베이스 및 데이터 웨어하우스 워크로드를 위해 설계된 고성능 EBS 스토리지 옵션
* 매우 짧은 지연 시간을 요구하는 IOPS 집약적 및 처리량 집약적 워크로드 모두에 적합
* 50 IOPS/GB에서 최대 20,000 IOPS의 일관된 기준 성능을 제공
* io1의 이점을 극대화 하려면 EBS 최적화 EC2 인스턴스를 사용하는 것이 좋다.
  * io1 볼륨은 EBS 최적화 EC2 인스턴스에 연결되는 경우 지연시간이 10ms 미만으로 감소하고, 연중 99.9%의 시간동안 프로비저닝된 성능을 유지하도록 설계됨





### 범용 SSD(gp2) 볼륨

* Amazon EC2 인스턴스의 기본 EBS 볼륨 유형
* 개발/테스트 환경, 짧은 지연 시간의 대화형 애플리케이션 및 부트 볼륨을 비롯한 광범위한 트랜잭션 워크로드에 적합
* 10ms 미만의 지연 시간 제공
* 3 IOPS/GB에서 최대 10,000 IOPS의 일관된 기준 성능을 제공
* 최대 160MB/초의 볼륨당 처리량을 제공
* 1TB보다 적은 GP2 볼륨이 최대 3,000 IOPS까지 버스트할 수 있다.




## HDD 지원 볼륨 (MB/초 집약적)

### 처리량 최적화 HDD(st1) 볼륨

* MapReduce, Kafka, 로그 처리, 데이터 웨어하우스 및 ETL 워크로드와 같이 대규모 데이터 세트와 큰 I/O 작업이 필요하거나 자주 액세스하고 처리량 집약적인 워크로드에 적합
* 초당 MB로 측정되는 처리량과 관련한 성능을 제공
  * TB당 40MB/초의 기준 처리량과 볼륨당 500MB/초의 최대 처리량을 제공
  * TB당 최대 250MB/초까지 버스트 할 수 있다.



### 콜드 HDD(sc1) 볼륨

* 모든 볼륨 유형 중 GB당 비용이 가장 저렴
* 대량의 콜드 데이터 세트가 있고 액세스 빈도가 낮은 워크로드에 적합
* SC1은 ST1과 비슷한 버스트 모델을 제공
  * TB당 80MB/초까지 버스트 가능
  * TB당 12MB/초의 기준 처리량과 볼륨당 250MB/초의 최대 처리량을 제공
* SC1은 액세스 빈도가 낮은 데이터에 매우 저렴한 스토리지를 제공



## 탄력적 볼륨

* 애플리케이션 요구 사항이 변경됨에 따라 볼륨을 손쉽게 적용할 수 있는 기능
  * 가동 중단이나 성능 저하 없이 동적으로 용량을 늘리고, 성능을 튜닝하며, 볼륨 유형을 변경할 수 있음
* CloudWatch를 Lambda와 함께 사용하면 자동으로 볼륨 변경이 가능



## 스냅샷

* 특정 시점의 스냅샷을 S3에 저장할 수 있는 기능 제공
  * 증분 방식으로 저장
  * 즉, 마지막 스냅샷을 저장한 이후에 변경된 블록만 저장되며, 변경된 블록에 해당하는 비용만 청구



## Amazon EBS 최적화 인스턴스

* 소액의 시간당 요금을 추가로 지불
* EC2 인스턴스에서 EBS 볼륨에 프로비저닝된 IOPS를 십분 활용할 수 있다.
* Amazon EC2와 EBS 간에 전용 처리량을 제공하며, 사용하는 인스턴스 유형에 따라 500 ~ 10000Mbps 범위에서 처리량을 선택할 수 있다.
* 전용 처리량 덕분에 EBS I/O와 EC2 인스턴스의 기타 트래픽 간에 경합이 최소화되어 EBS 볼륨의 성능이 극대화된다.
* EBS 최적화 인스턴스는 모든 Amazon EBS 볼륨 유형과 함께 사용 가능



## 가용성 및 안정성

* 고가용성 및 안정성을 갖추도록 설계되어 있음
* 단일 구성 요소의 장애로 인한 데이터 손실을 방지하기 위해 가용 영역의 여러 서버에 복제된다.
  * 이에 따른 추가 요금은 없음
* AFR(연간 고장률)이 4% 정도인 상용 하드 디스크보다 20배 이상 안정적 (EBS는 0.1~0.2%)
  * 1000개의 EBS 볼륨을 1년간 실행하는 경우 1~2개 정도의 볼륨에 장애가 발생할 것으로 예상



## 암호화 및 AWS Identity and Access Management

* EBS 데이터 볼륨, 부팅 볼륨 및 스냅샷에 대한 원활한 암호화를 제공
* EC2 인스턴스와 EBS 데이터 및 부팅 볼륨 간에 이동하는 데이터도 암호화
* EBS 볼륨에 대한 액세스가 AWS IAM와 통합 되었다.
  * IAM을 사용하여 EBS 볼륨에 대한 액세스 제어가 가능




## 용어

* 워크로드 : 업무량, 작업량
* 워크로드 사용료 : 고객이 설정한 시스템 용량에 기초한 소프트웨어 사용 요금 방식
* IOPS(Input/Output Operations Per Second) : HDD, SSD, SAN과 같은 컴퓨터 저장 장치를 벤치마크 하는데 사용되는 성능 측정 단위
  * IOPS 측정값은 벤치마크 프로그램에 따라 다르다.
* RPM(revolution per minute) : 하드디스크의 플래터(platter)가 1분당 회전하는 수. 
  * 일반적으로 7200RPM 하드 디스크는 약 75~100 IOPS.
  * 15000RPM 하드 디스크는 175~210 IOPS.
* 플래터(platter) : 하드디스크 드라이브안에 있는 디스크를 다른 종류의 디스크와 구별하기 위해 부르는 용어
  * 하드디스크의 데이터를 기록하는 둥근 원판
  * 플래터가 하드디스크의 자료를 읽기 위해서는 회전을 해야 하는데, 회전 속도가 빠를 수록 저장 용량이 많고, 읽는 속도도 빨라진다.
  * 고석으로 회전하기 때문에 발열량이 많고 소음이 커지는 단점이 있음.
  * RPM이 높을 수록 고급 제품이며 가격도 비쌈
* 프로비저닝(provisioning) : 사용자의 요구에 맞게 시스템 자원을 할당, 배치, 배포해 두었다가 필요 시 시스템을 즉시 사용할 수 있는 상태로 미리 준비해두는 것
* ETL(Extraction, Transformation, Loading) : 다양한 소스 시스템으로부터 필요한 데이터를 추출하여 변환 작업을 거쳐 타겟 시스템으로 전송 및 로딩하는 모든 과정을 말한다.